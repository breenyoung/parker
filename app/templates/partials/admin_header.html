{% macro admin_header(title, description=None, back_href='/admin', back_label='Back to Admin', refresh_func=None, loading_var='loading', action_label=None, action_func=None) %}
<div class="mb-8 flex flex-col md:flex-row justify-between items-start md:items-end gap-4 border-b border-gray-800 pb-6">

    <div>
        <h1 class="text-3xl font-bold text-white">{{ title }}</h1>
        {% if description %}
            <p class="text-gray-400 mt-2">{{ description }}</p>
        {% endif %}
    </div>

    <div class="flex items-center gap-4 flex-shrink-0">

        {% if action_label and action_func %}
        <button
            x-on:click="{{ action_func }}"
            class="px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg text-white font-bold shadow-md transition-colors text-sm flex items-center gap-2"
        >
            {{ action_label }}
        </button>
        {% endif %}

        {% if refresh_func %}
        <button
            x-on:click="{{ refresh_func }}"
            class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-white flex items-center gap-2 transition-colors text-sm font-bold shadow-md border border-gray-600"
            :class="{ 'opacity-75 cursor-wait': {{ loading_var }} }"
            :disabled="{{ loading_var }}"
        >
            <svg xmlns="http://www.w3.org/2000/svg"
                 class="h-4 w-4"
                 :class="{'animate-spin': {{ loading_var }} }"
                 fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
            </svg>
            Refresh
        </button>
        {% endif %}

        <a href="{{ back_href }}"
           class="group flex items-center text-sm font-medium text-gray-400 hover:text-white transition-colors ml-2">
            <svg xmlns="http://www.w3.org/2000/svg"
                 class="mr-2 h-4 w-4 transition-transform duration-200 group-hover:-translate-x-1"
                 fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
            </svg>
            {{ back_label }}
        </a>
    </div>
</div>
{% endmacro %}